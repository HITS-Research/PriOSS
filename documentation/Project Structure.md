# Project Structure

The root folder of the angular project is ```prototype/prioss```. Inside it is the ``src`` folder that contains the app's source code and resources (e.g. pictures).
Resources are in ``src/assets`` and code in ``src/app``. This includes TypeScript, HTML and CSS code. Instead of plain CSS, the ``less`` CSS preprocessor is used, so instead of CSS files we have ``.less`` files in the project that include CSS code with some added features to ease development (see https://www.syncfusion.com/blogs/post/less-versus-css.aspx for some examples).

One notable file in ``src`` is the ``styles.less`` files which includes some global styles that are used throughout the project.

The ``app`` folder contains the main code. The app has one central module, the ``app-module``, whose components are in this folder.  

The app component is the main component of the app that displays the page the user currently navigated to. It also defines the navigation menu. Like every component it consists of four main files: 

- app.component.ts - the main typescipt file of the component
- app.component.spec.ts - a specification file, autogenerated by angular and only needed by angular itself. It is usually not edited by developers
- app.component.html - the main html file of the component defining its structure 
- app.component.less - the less (css) file that defines the styles that can be used in the component's html file

The app-routing.module.ts defines which routes (i.e. URLs) lead to which components and thereby defines which components can be displayed alone on a whole page. Other components can only be embedded into parent components.

Other components apart from the app component are organized in different subfolders of ``src/app``. The following section describes their structure.

## Component Folder Structure

A single component is always contained in a folder that bears the name of the component but without the "component" postfix, e.g. the folder that houses the listening-time-component is called ``listening-time``. The most important components are contained in single folders in ``src/app``: 

- The landing component: The home page of the application from which the user can navigate to the service-selection component
- The service-selection component: This is the page users navigate to after the home page where they can select which service's (e.g. Instagram, Spotify, Facebook) data-downloads they are interested in, view instructions on how to obtain their personal data-downloads and where they can input their data-downloads into the app or use a sample dataset instead. Thus the service selection page is also responsible for parsing the data-downloads and inserting them into the client side SQLite database that other components use to access data from the data-download. After using sample data or inputting their own data, this page leads the user to the dashboard of the selected service.

### Dashboards

The dashboards serve as a hub for getting an overview of the data in the data-download and for accessing the different visualizations and features of the app. Each service has its own dashboard which is a component located under ``src/app/dashboards/<service-abbreviation>-dashboard``.

### Visualizations

The Visualizations available from the different dashboards can be found under ``src/app/visualizations/`` and are grouped by whether they may be used by all dashboards or by only a single service specific dashboard.

 ### Page Sub Components

There is also a folder containing different smaller components like the offline indicator displayed on dashboards, the title bar that many visualizations use or dash-card which is a template for the cards in which visualizations are displayed on the dashboards. These components are located under ``src/app/page-sub-components``.

### Datamanagement and SQLite

The code connected to the underlying client-side database into which the data-downloads are parsed is located under ``src/app/db`` and ``src/app/models``. See the ``Angular SQLite usage.md`` documentation file under ``documentation\SQLite Database`` for details on this system.

###  Services

The ``src/app/services`` folder contains some angular services that are mainly used to communicate between components and provide data access to the individual components.

 ### Utilities

The ``src/app/utilities`` folder contains some typescript classes that can be imported in any typescript file and provide some useful functions, for example in regards to handling date types in typescript.